:root {
  --bg: #1a1a1a;
  --board: #252525;
  --wall: #e09f3e;
  --text: #eee;
}
html,body{height:100%;margin:0;background:var(--bg);color:var(--text);font-family:Inter,Arial,sans-serif;overflow:hidden}
.wrap{height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:10px;position:relative}
h1{margin:0 0 15px 0;font-size:2rem;font-weight:600}
#game-container{position:relative;box-shadow:0 10px 30px rgba(0,0,0,0.5)}
canvas{background:var(--board);border-radius:8px;display:block}
#panel{margin-top:20px;display:flex;gap:15px;align-items:center;background:#333;padding:12px 24px;border-radius:12px;flex-wrap:wrap}
.template{display:flex;align-items:center;justify-content:center;background:var(--wall);border-radius:4px;cursor:grab;user-select:none;font-weight:bold;color:#111;font-size:12px;box-shadow:0 2px 5px rgba(0,0,0,0.3);transition:transform .1s}
.template:active{cursor:grabbing;transform:scale(0.95)}
.template.h{width:80px;height:12px}
.template.v{width:12px;height:80px}
button{background:#444;color:#fff;border:1px solid #555;padding:8px 16px;border-radius:8px;cursor:pointer;font-size:14px;transition:.2s}
button:hover{background:#555}
#turnInfo{font-weight:bold;font-size:16px;min-width:200px;text-align:center}
.hint{margin-top:15px;color:#888;font-size:13px;max-width:540px;text-align:center;line-height:1.5}
.back-btn{position:absolute;top:20px;left:20px;padding:10px 20px;font-size:16px}

/* Экраны */
.screen{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;background:var(--bg);transition:opacity .3s}
.screen:not(.active){display:none}
.menu-buttons{display:flex;flex-direction:column;gap:20px;margin-top:40px}
.menu-buttons button{font-size:1.6rem;padding:18px 50px}

/* Светлая тема */
body.light{--bg:#f0f0f0;--board:#ddd;--text:#222;--wall:#d35400}
body.light #panel{background:#fff}
body.light canvas{background:#ddd}
.hidden {
  display: none !important;
}

#playOnlineContainer {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
}

#searchTimer {
  font-size: 1.5em;
  font-weight: bold;
  color: #ffcc00; 
  border: 2px solid #ffcc00;
  padding: 5px 15px;
  border-radius: 5px;
  animation: pulse 1s infinite alternate;
}

@keyframes pulse {
  from {
    opacity: 0.7;
    transform: scale(1);
  }
  to {
    opacity: 1;
    transform: scale(1.05);
  }
}
/* Общий контейнер, чтобы центрировать всё на экране */
.game-layout {
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  justify-content: center;
  gap: 20px;
  height: 100vh;
  padding: 20px;
  box-sizing: border-box;
}

/* Левая колонка (Доска + Плашки) */
.board-area {
  display: flex;
  flex-direction: column;
  gap: 10px; /* Отступ между плашками и доской */
  width: 540px; /* Фиксируем ширину под размер канваса */
}

/* Сайдбар справа */
.sidebar {
  width: 200px;
  background: #262421; /* Фирменный темный цвет */
  border-radius: 8px;
  padding: 15px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  height: 540px; /* Высота как у доски */
  box-sizing: border-box; /* Чтобы padding не увеличивал ширину */
}

/* --- ПЛАШКИ ИГРОКОВ --- */
.player-bar {
  display: flex;
  align-items: center;
  background: #262421;
  padding: 5px 10px;
  border-radius: 4px;
  color: #fff;
  height: 50px;
  position: relative;
  transition: background 0.3s;
}

/* Подсветка активного игрока */
.player-bar.active-turn {
  background: #3c3a37; /* Чуть светлее */
  box-shadow: inset 0 -2px 0 0 #e09f3e; /* Оранжевая полоска снизу */
}

.avatar-container {
  margin-right: 10px;
}

.avatar {
  width: 40px;
  height: 40px;
  background: #777; /* Серый квадрат-заглушка */
  border-radius: 4px;
}

.player-info {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.player-name {
  font-weight: 600;
  font-size: 14px;
  color: #eee;
}

.player-material {
  font-size: 12px;
  color: #aaa;
  display: flex;
  align-items: center;
  gap: 4px;
  margin-top: 2px;
}

.wall-icon {
  color: var(--wall);
  font-size: 10px;
}

.timer {
  font-family: monospace;
  font-size: 20px;
  font-weight: bold;
  background: #1a1a1a;
  padding: 5px 10px;
  border-radius: 4px;
  color: #fff;
}

/* Отличаем таймер активного игрока (опционально) */
.active-turn .timer {
  background: #eee;
  color: #111;
}

/* --- САЙДБАР ЭЛЕМЕНТЫ --- */
.controls-panel {
  display: flex;
  flex-direction: column;
  gap: 15px;
  align-items: center;
}

.wall-selector {
  display: flex;
  gap: 10px;
}

/* Переопределяем старые стили шаблонов для сайдбара */
.template.h { width: 60px; height: 10px; }
.template.v { width: 10px; height: 60px; }

.control-btn {
  width: 100%;
  background: #444;
  font-weight: bold;
}

.secondary-btn {
  width: 100%;
  background: #333;
  color: #aaa;
  border: none;
}
.secondary-btn:hover {
  background: #444;
  color: #fff;
}

.mini-hint {
  font-size: 11px;
  color: #666;
  text-align: center;
  line-height: 1.4;
}

/* Прячем старый UI, если он остался */
#panel, .hint, .back-btn {
  display: none !important;
}
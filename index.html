<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <title>Quoridor</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <div id="mainMenu" class="screen active">
    <h1>Quoridor</h1>
    <div class="menu-buttons">
      <div id="playOnlineContainer">
        <button id="playOnlineBtn" onclick="UI.showSearch()">Играть онлайн</button>
        <div id="searchTimer" class="hidden">0:00</div>
        <button id="cancelSearchBtn" class="hidden" onclick="UI.hideSearch(); Net.cancelFindGame()">Отменить поиск</button>
      </div>
      <button onclick="UI.showModeSelect()">Локальная игра</button>
      <button onclick="UI.showSettings()">Настройки</button>
      <button onclick="UI.showRules()">Правила</button>
      <button onclick="UI.showAbout()">Об игре</button>
      
      </div>
  </div>
  
  <div id="modeScreen" class="screen">
    <h2>Выберите режим</h2>
    <button onclick="Game.startPvP()">Два игрока (PvP)</button>
    <div class="separator-line">--- Игра с ботом ---</div>
    <button onclick="UI.selectBotDifficulty('easy')">Легкий бот</button>
    <button onclick="UI.selectBotDifficulty('medium')">Средний бот</button>
    <button onclick="UI.selectBotDifficulty('hard')">Сильный бот</button>
    <button onclick="UI.selectBotDifficulty('impossible')">Непобедимый бот</button>
    
    <button onclick="UI.backToMenu()">Назад</button>
  </div>

  <div id="colorSelectScreen" class="screen">
    <h2>Выберите сторону</h2>
    <p>Белые всегда ходят первыми</p>
    <div class="menu-buttons horizontal">
      <button onclick="Game.startVsBot('white')">
         ⚪ Играть за Белых<br>(Вы ходите первым)
      </button>
      <button onclick="Game.startVsBot('black')">
         ⚫ Играть за Чёрных<br>(Бот ходит первым)
      </button>
    </div>
    <button onclick="UI.showModeSelect()">Назад</button>
  </div>

  <button onclick="UI.showModeSelect()">Назад к режимам</button>
</div>
<div id="gameScreen" class="screen">
    <div class="game-layout">
      
      <div class="board-area">
        
        <div class="player-bar" id="topPlayerBar">
          <div class="avatar-container">
            <div class="avatar"></div> </div>
          <div class="player-info">
            <div class="player-name-row">
              <span class="player-name" id="topPlayerName">Оппонент</span>
            </div>
            <div class="player-material">
              <span class="wall-icon">▐</span> 
              <span id="topPlayerWalls">10</span>
            </div>
          </div>
          <div class="timer" id="topPlayerTimer">10:00</div>
        </div>

        <div id="game-container">
          <canvas id="board" width="540" height="540"></canvas>
        </div>

        <div class="player-bar" id="bottomPlayerBar">
          <div class="avatar-container">
            <div class="avatar"></div>
          </div>
          <div class="player-info">
            <div class="player-name-row">
              <span class="player-name" id="bottomPlayerName">Вы</span>
            </div>
            <div class="player-material">
              <span class="wall-icon">▐</span> 
              <span id="bottomPlayerWalls">10</span>
            </div>
          </div>
          <div class="timer" id="bottomPlayerTimer">10:00</div>
        </div>

      </div>

      <div class="sidebar">
        <div class="controls-panel">
           <div class="wall-selector">
             <div id="hTpl" class="template h" title="Горизонтальная стена">H</div>
             <div id="vTpl" class="template v" title="Вертикальная стена">V</div>
           </div>
           
           <button id="rotateBtn" class="control-btn">Повернуть (R)</button>
           
           <div class="mini-hint">
             Drag & Drop стены<br>или клик + R
           </div>
        </div>

        <div class="menu-actions">
          <button class="secondary-btn" onclick="UI.handleSurrender()">Сдаться</button>
        </div>
      </div>

    </div>
  </div>

  <div id="settingsScreen" class="screen">
    <h2>Настройки</h2>
    <label>Тема: 
      <select id="themeSelect">
        <option value="dark">Тёмная</option>
        <option value="light">Светлая</option>
      </select>
    </label>
    <br><br>
    <button onclick="UI.saveSettings()">Сохранить</button>

    <button onclick="UI.backToMenu()">Назад</button>
  </div>

  <div id="rulesScreen" class="screen">
    <h2>Правила Quoridor</h2>
    <p>• Цель — первым довести свою пешку до противоположного края доски.<br>
       • За ход можно: либо передвинуть пешку, либо поставить стену.<br>
       • Можно перепрыгнуть через соперника, если он стоит лицом к лицу.<br>
       • Запрещено отрезать путь хотя бы одному игроку.</p>
    <button onclick="UI.backToMenu()">Назад</button>
  </div>

  <div id="aboutScreen" class="screen">
    <h2>Об игре</h2>
    <p>Открытая веб-реализация настольной игры Quoridor<br>
    <button onclick="UI.backToMenu()">Назад</button>
  </div>

  
  <script src="ui.js"></script>
  <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
  <script src="net.js"></script>
  <script src="shared.js"></script>
  <script src="ai.js"></script>
  <script src="game.js"></script>
  <script src="main.js"></script>
</body>
</html>
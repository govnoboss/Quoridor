<!DOCTYPE html>
<html lang="ru">

<head>

  <meta charset="utf-8" />
  <title>Quoridor</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>

<body>

  <div id="mainMenu" class="screen active">
    <div class="menu-layout">
      <!-- –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω–∞—è –¥–æ—Å–∫–∞ —Å –¥–µ–º–æ-–ø–∞—Ä—Ç–∏–µ–π -->
      <div class="board-preview">
        <div class="demo-board-container">
          <div class="player-bar demo-player-bar top">
            <div class="avatar-container">
              <div class="avatar"></div>
            </div>
            <div class="player-info">
              <span class="player-name">–û–ø–ø–æ–Ω–µ–Ω—Ç</span>
            </div>
          </div>

          <canvas id="demoBoard" width="720" height="720"></canvas>

          <div class="player-bar demo-player-bar bottom">
            <div class="avatar-container">
              <div class="avatar"></div>
            </div>
            <div class="player-info">
              <span class="player-name">–í—ã</span>
            </div>
          </div>
        </div>
      </div>

      <!-- –ü–∞–Ω–µ–ª—å –º–µ–Ω—é -->
      <div class="menu-panel">
        <h1>Quoridor</h1>
        <div class="menu-buttons">
          <div id="playOnlineContainer">
            <button id="playOnlineBtn" onclick="UI.showSearch()">‚ö° –ò–≥—Ä–∞—Ç—å –æ–Ω–ª–∞–π–Ω</button>
            <div id="searchTimer" class="hidden">0:00</div>
            <button id="cancelSearchBtn" class="hidden" onclick="UI.hideSearch(); Net.cancelFindGame()">–û—Ç–º–µ–Ω–∏—Ç—å
              –ø–æ–∏—Å–∫</button>
          </div>
          <button onclick="UI.showModeSelect()">üéÆ –õ–æ–∫–∞–ª—å–Ω–∞—è –∏–≥—Ä–∞</button>
          <button onclick="UI.showRules()">üìñ –ü—Ä–∞–≤–∏–ª–∞</button>
          <button onclick="UI.showSettings()">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
          <button onclick="UI.showAbout()">‚ÑπÔ∏è –û–± –∏–≥—Ä–µ</button>
        </div>
      </div>
    </div>
  </div>

  <div id="modeScreen" class="screen">
    <h2>–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º</h2>
    <div class="mode-buttons">
      <button onclick="Game.startPvP()">–î–≤–∞ –∏–≥—Ä–æ–∫–∞ (PvP)</button>

      <div class="separator-line">–ò–≥—Ä–∞ —Å –±–æ—Ç–æ–º</div>

      <button onclick="UI.selectBotDifficulty('easy')">–õ–µ–≥–∫–∏–π –±–æ—Ç</button>
      <button onclick="UI.selectBotDifficulty('medium')">–°—Ä–µ–¥–Ω–∏–π –±–æ—Ç</button>
      <button onclick="UI.selectBotDifficulty('hard')">–°–∏–ª—å–Ω—ã–π –±–æ—Ç</button>
      <button onclick="UI.selectBotDifficulty('impossible')">–ù–µ–ø–æ–±–µ–¥–∏–º—ã–π –±–æ—Ç</button>
    </div>
    <button onclick="UI.backToMenu()">–ù–∞–∑–∞–¥</button>
  </div>

  <div id="colorSelectScreen" class="screen">
    <h2>–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–æ—Ä–æ–Ω—É</h2>
    <p>–ë–µ–ª—ã–µ –≤—Å–µ–≥–¥–∞ —Ö–æ–¥—è—Ç –ø–µ—Ä–≤—ã–º–∏</p>
    <div class="menu-buttons horizontal">
      <button onclick="Game.startVsBot('white')">
        ‚ö™ –ò–≥—Ä–∞—Ç—å –∑–∞ –ë–µ–ª—ã—Ö<br>(–í—ã —Ö–æ–¥–∏—Ç–µ –ø–µ—Ä–≤—ã–º)
      </button>
      <button onclick="Game.startVsBot('black')">
        ‚ö´ –ò–≥—Ä–∞—Ç—å –∑–∞ –ß—ë—Ä–Ω—ã—Ö<br>(–ë–æ—Ç —Ö–æ–¥–∏—Ç –ø–µ—Ä–≤—ã–º)
      </button>
    </div>
    <button onclick="UI.showModeSelect()">–ù–∞–∑–∞–¥</button>
  </div>

  <button onclick="UI.showModeSelect()">–ù–∞–∑–∞–¥ –∫ —Ä–µ–∂–∏–º–∞–º</button>
  </div>
  <div id="gameScreen" class="screen">
    <div class="game-layout">

      <div class="board-area">

        <div class="player-bar" id="topPlayerBar">
          <div class="avatar-container">
            <div class="avatar"></div>
          </div>
          <div class="player-info">
            <div class="player-name-row">
              <span class="player-name" id="topPlayerName">–û–ø–ø–æ–Ω–µ–Ω—Ç</span>
            </div>
            <div class="player-material">
              <span class="wall-icon">‚ñê</span>
              <span id="topPlayerWalls">10</span>
            </div>
          </div>
          <div class="timer" id="topPlayerTimer">10:00</div>
        </div>

        <div id="game-container">
          <canvas id="board" width="1080" height="1080"></canvas>
        </div>

        <div class="player-bar" id="bottomPlayerBar">
          <div class="avatar-container">
            <div class="avatar"></div>
          </div>
          <div class="player-info">
            <div class="player-name-row">
              <span class="player-name" id="bottomPlayerName">–í—ã</span>
            </div>
            <div class="player-material">
              <span class="wall-icon">‚ñê</span>
              <span id="bottomPlayerWalls">10</span>
            </div>
          </div>
          <div class="timer" id="bottomPlayerTimer">10:00</div>
        </div>

      </div>

      <div class="sidebar">
        <div class="controls-panel">
          <div class="wall-selector">
            <div id="hTpl" class="template h" title="–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è —Å—Ç–µ–Ω–∞">H</div>
            <div id="vTpl" class="template v" title="–í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è —Å—Ç–µ–Ω–∞">V</div>
          </div>

        </div>

        <div class="menu-actions">
          <button class="secondary-btn" onclick="UI.handleSurrender()">–°–¥–∞—Ç—å—Å—è</button>
        </div>
      </div>

    </div>
  </div>

  <div id="settingsScreen" class="screen">
    <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
    <label>–¢–µ–º–∞:
      <select id="themeSelect">
        <option value="dark">–¢—ë–º–Ω–∞—è</option>
        <option value="light">–°–≤–µ—Ç–ª–∞—è</option>
      </select>
    </label>
    <br><br>
    <button onclick="UI.saveSettings()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>

    <button onclick="UI.backToMenu()">–ù–∞–∑–∞–¥</button>
  </div>

  <div id="rulesScreen" class="screen">
    <div class="rules-header">
      <h2>–ü—Ä–∞–≤–∏–ª–∞</h2>
      <div class="lang-toggle">
        <button id="langRu" class="lang-btn active" onclick="UI.setRulesLang('ru')">RU</button>
        <button id="langEn" class="lang-btn" onclick="UI.setRulesLang('en')">EN</button>
      </div>
    </div>

    <div class="rules-content" id="rulesContentRu">
      <div class="rules-section">
        <h3>üéØ –¶–µ–ª—å</h3>
        <p>–ü–µ—Ä–≤—ã–º –¥–æ–≤–µ–¥–∏—Ç–µ —Å–≤–æ—é —Ñ–∏—à–∫—É –¥–æ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ–≥–æ –∫—Ä–∞—è –¥–æ—Å–∫–∏.</p>
      </div>

      <div class="rules-section">
        <h3>üé≤ –•–æ–¥</h3>
        <p>–ë–µ–ª—ã–µ —Ö–æ–¥—è—Ç –ø–µ—Ä–≤—ã–º–∏. –ó–∞ —Ö–æ–¥ –º–æ–∂–Ω–æ:</p>
        <ul>
          <li>–ü–µ—Ä–µ–¥–≤–∏–Ω—É—Ç—å —Ñ–∏—à–∫—É –Ω–∞ 1 –∫–ª–µ—Ç–∫—É (–Ω–µ –ø–æ –¥–∏–∞–≥–æ–Ω–∞–ª–∏)</li>
          <li>–ü–æ—Å—Ç–∞–≤–∏—Ç—å —Å—Ç–µ–Ω—É (—É –≤–∞—Å 10 —Å—Ç–µ–Ω)</li>
        </ul>
      </div>

      <div class="rules-section">
        <h3>üö∂ –ü—Ä—ã–∂–∫–∏</h3>
        <p>–ï—Å–ª–∏ —Å–æ–ø–µ—Ä–Ω–∏–∫ —Å—Ç–æ–∏—Ç —Ä—è–¥–æ–º ‚Äî –º–æ–∂–Ω–æ –ø–µ—Ä–µ–ø—Ä—ã–≥–Ω—É—Ç—å —á–µ—Ä–µ–∑ –Ω–µ–≥–æ. –ï—Å–ª–∏ –∑–∞ –Ω–∏–º —Å—Ç–µ–Ω–∞ ‚Äî –ø—Ä—ã–∂–æ–∫ –≤–±–æ–∫.</p>
      </div>

      <div class="rules-section">
        <h3>üß± –°—Ç–µ–Ω—ã</h3>
        <p>–°—Ç–µ–Ω–∞ –∑–∞–Ω–∏–º–∞–µ—Ç 2 –∫–ª–µ—Ç–∫–∏. –ù–µ–ª—å–∑—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø—É—Ç—å –∫ —Ü–µ–ª–∏.</p>
      </div>

      <div class="rules-section">
        <h3>‚å®Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</h3>
        <ul>
          <li><kbd>H</kbd> ‚Äî –≤–∑—è—Ç—å –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—É—é —Å—Ç–µ–Ω—É</li>
          <li><kbd>V</kbd> ‚Äî –≤–∑—è—Ç—å –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—É—é —Å—Ç–µ–Ω—É</li>
          <li><kbd>R</kbd> ‚Äî –ø–æ–≤–µ—Ä–Ω—É—Ç—å —Å—Ç–µ–Ω—É</li>
          <li><kbd>Esc</kbd> ‚Äî –æ—Ç–º–µ–Ω–∏—Ç—å</li>
        </ul>
      </div>
    </div>

    <div class="rules-content hidden" id="rulesContentEn">
      <div class="rules-section">
        <h3>üéØ Goal</h3>
        <p>Be the first to reach the opposite edge of the board.</p>
      </div>

      <div class="rules-section">
        <h3>üé≤ Turn</h3>
        <p>White moves first. On your turn you can:</p>
        <ul>
          <li>Move your pawn 1 square (not diagonally)</li>
          <li>Place a wall (you have 10 walls)</li>
        </ul>
      </div>

      <div class="rules-section">
        <h3>üö∂ Jumps</h3>
        <p>If the opponent is adjacent ‚Äî jump over them. If blocked by a wall ‚Äî jump diagonally.</p>
      </div>

      <div class="rules-section">
        <h3>üß± Walls</h3>
        <p>Each wall covers 2 squares. You cannot completely block the path to the goal.</p>
      </div>

      <div class="rules-section">
        <h3>‚å®Ô∏è Controls</h3>
        <ul>
          <li><kbd>H</kbd> ‚Äî pick horizontal wall</li>
          <li><kbd>V</kbd> ‚Äî pick vertical wall</li>
          <li><kbd>R</kbd> ‚Äî rotate wall</li>
          <li><kbd>Esc</kbd> ‚Äî cancel</li>
        </ul>
      </div>
    </div>

    <button onclick="UI.backToMenu()">–ù–∞–∑–∞–¥</button>
  </div>

  <div id="aboutScreen" class="screen">
    <h2>–û–± –∏–≥—Ä–µ</h2>
    <p>–û—Ç–∫—Ä—ã—Ç–∞—è –≤–µ–±-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞—Å—Ç–æ–ª—å–Ω–æ–π –∏–≥—Ä—ã Quoridor<br>
      <button onclick="UI.backToMenu()">–ù–∞–∑–∞–¥</button>
  </div>

  <div id="resultModal" class="modal-overlay hidden">
    <div class="modal-content">
      <h2 id="resultStatus">–ü–û–ë–ï–î–ê</h2>
      <div class="result-divider"></div>
      <p id="resultReason">–ü—Ä–∏—á–∏–Ω–∞: –ü—Ä–æ—Ç–∏–≤–Ω–∏–∫ —Å–¥–∞–ª—Å—è</p>
      <button class="primary-btn" onclick="Game.goToMainMenu()">–í –º–µ–Ω—é</button>
    </div>
  </div>

  <!-- Disconnect Overlay -->
  <div id="disconnectModal" class="disconnect-overlay hidden">
    <div class="disconnect-content">
      <div class="disconnect-title">–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Ä–∞–∑–æ—Ä–≤–∞–Ω–æ</div>
      <div class="disconnect-msg">
        –í—ã –æ—Ç–∫—Ä—ã–ª–∏ –∏–≥—Ä—É –≤ –¥—Ä—É–≥–æ–π –≤–∫–ª–∞–¥–∫–µ –∏–ª–∏ –æ–∫–Ω–µ.
        <br>–≠—Ç–∞ —Å–µ—Å—Å–∏—è –±—ã–ª–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞.
      </div>
      <button class="primary-btn" onclick="location.reload()">–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –∏–≥—Ä—É (Reconnect)</button>
    </div>
  </div>

  <!-- Confirmation Modal -->
  <div id="confirmModal" class="confirm-overlay" style="display: none;">
    <div class="confirm-box">
      <div class="confirm-title" id="confirmTitle">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</div>
      <div class="confirm-msg" id="confirmMessage">–í—ã —É–≤–µ—Ä–µ–Ω—ã?</div>
      <div class="confirm-actions">
        <button class="primary-btn" id="confirmYes">–î–∞</button>
        <button class="secondary-btn" id="confirmNo">–û—Ç–º–µ–Ω–∞</button>
      </div>
    </div>
  </div>

  <!-- Toasts Container -->
  <div id="notificationContainer" class="notification-container"></div>

  <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
  <script src="ui.js"></script>
  <script src="net.js"></script>
  <script src="shared.js"></script>
  <script src="ai.js"></script>
  <script src="game.js"></script>
  <script src="main.js"></script>
</body>

</html>